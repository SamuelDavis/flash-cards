import{S as j,i as B,s as H,c as q,e as m,a as I,b as h,d as b,f as $,u as E,g as J,h as R,t as k,j as C,k as y,l as L,m as O,n as P,o as V,p as D,r as fe,q as F,v as ue,w as G,x as Q,y as W,z as T,A as de,B as X,C as pe,D as _e}from"./vendor.3603c073.js";const me=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}};me();function Y(r){return typeof r=="string"&&!!r}function Z(r){return Array.isArray(r)&&r.length>0}class w extends Error{static NoCards(){return new w("Flash cards file does not contain an array of cards.")}static CardMissingHeading(e){return new w(`Card ${e} does not contain a (string) "heading".`)}static CardMissingItems(e){return new w(`Card ${e} does not contain an array of "items".`)}static ItemMissingDescription(e,n){return new w(`Card ${e}, item ${n} first element is not a (string) description.`)}static ItemsMissingAnswers(e,n){return new w(`Card ${e}, item ${n} does not contain any answers.`)}static AnswerMissing(e,n,l){return new w(`Card ${e}, item ${n}, answer ${l} does not contain an array of (string) parts.`)}static PartMissing(e,n,l,t){return new w(`Card ${e}, item ${n}, answer ${l}, part ${t} is not a valid (string) part.`)}}function he(r){if(!Array.isArray(r))throw w.NoCards();r.forEach((e,n)=>{if(typeof e.heading!="string")throw w.CardMissingHeading(n);if(!Array.isArray(e.items))throw w.CardMissingItems(n);e.items.forEach((l,t)=>{if(!Y(l.description))throw w.ItemMissingDescription(n,t);if(!Z(l.answers))throw w.ItemsMissingAnswers(n,t);l.answers.forEach((s,i)=>{if(!Z(s))throw console.error(s),w.AnswerMissing(n,t,i);s.forEach((a,c)=>{if(!Y(a))throw w.PartMissing(n,t,i,c)})})})})}const ge=r=>({}),x=r=>({});function $e(r){let e,n,l,t;const s=r[1].header,i=q(s,r,r[0],x),a=r[1].default,c=q(a,r,r[0],null);return{c(){e=m("article"),n=m("header"),i&&i.c(),l=I(),c&&c.c(),h(n,"class","svelte-1phs15l"),h(e,"class","svelte-1phs15l")},m(o,u){b(o,e,u),$(e,n),i&&i.m(n,null),$(e,l),c&&c.m(e,null),t=!0},p(o,[u]){i&&i.p&&(!t||u&1)&&E(i,s,o,o[0],t?R(s,o[0],u,ge):J(o[0]),x),c&&c.p&&(!t||u&1)&&E(c,a,o,o[0],t?R(a,o[0],u,null):J(o[0]),null)},i(o){t||(k(i,o),k(c,o),t=!0)},o(o){C(i,o),C(c,o),t=!1},d(o){o&&y(e),i&&i.d(o),c&&c.d(o)}}}function we(r,e,n){let{$$slots:l={},$$scope:t}=e;return r.$$set=s=>{"$$scope"in s&&n(0,t=s.$$scope)},[t,l]}class ve extends j{constructor(e){super();B(this,e,we,$e,H,{})}}function ee(r){let e,n;const l=r[6].default,t=q(l,r,r[5],null);return{c(){e=m("aside"),t&&t.c(),h(e,"class","svelte-mkrmlb")},m(s,i){b(s,e,i),t&&t.m(e,null),n=!0},p(s,i){t&&t.p&&(!n||i&32)&&E(t,l,s,s[5],n?R(l,s[5],i,null):J(s[5]),null)},i(s){n||(k(t,s),n=!0)},o(s){C(t,s),n=!1},d(s){s&&y(e),t&&t.d(s)}}}function be(r){let e,n,l,t,s,i,a,c=r[2]&&ee(r);return{c(){e=m("div"),n=m("button"),l=L(r[0]),t=I(),c&&c.c(),h(e,"class","svelte-mkrmlb")},m(o,u){b(o,e,u),$(e,n),$(n,l),$(e,t),c&&c.m(e,null),r[7](e),s=!0,i||(a=[O(window,"click",r[4]),O(n,"click",r[3])],i=!0)},p(o,[u]){(!s||u&1)&&P(l,o[0]),o[2]?c?(c.p(o,u),u&4&&k(c,1)):(c=ee(o),c.c(),k(c,1),c.m(e,null)):c&&(V(),C(c,1,1,()=>{c=null}),D())},i(o){s||(k(c),s=!0)},o(o){C(c),s=!1},d(o){o&&y(e),c&&c.d(),r[7](null),i=!1,fe(a)}}}function te(r,e){return r===e||Array.from(r.children).some(n=>te(n,e))}function ye(r,e,n){let{$$slots:l={},$$scope:t}=e,{text:s}=e,i=null,a=!1;function c(){n(2,a=!0)}function o(d){n(2,a=te(i,d.target))}function u(d){F[d?"unshift":"push"](()=>{i=d,n(1,i)})}return r.$$set=d=>{"text"in d&&n(0,s=d.text),"$$scope"in d&&n(5,t=d.$$scope)},[s,i,a,c,o,t,l,u]}class ke extends j{constructor(e){super();B(this,e,ye,be,H,{text:0})}}function ne(r,e,n){const l=r.slice();return l[8]=e[n],l}function se(r,e,n){const l=r.slice();return l[11]=e[n].description,l[12]=e[n].answers,l}function le(r,e,n){const l=r.slice();return l[15]=e[n],l}function re(r){let e,n,l;return{c(){e=m("input"),h(e,"type","button"),e.value="\xD7",h(e,"title","clear cards")},m(t,s){b(t,e,s),n||(l=O(e,"click",r[4]),n=!0)},p:ue,d(t){t&&y(e),n=!1,l()}}}function Ae(r){let e;return{c(){e=m("nav"),e.innerHTML='<a href="/vim.json" download="vim.json">Vim</a>',h(e,"class","svelte-1r0x46x")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function ie(r){let e,n,l=r[15].join("")+"",t;return{c(){e=m("dd"),n=m("kbd"),t=L(l)},m(s,i){b(s,e,i),$(e,n),$(n,t)},p(s,i){i&2&&l!==(l=s[15].join("")+"")&&P(t,l)},d(s){s&&y(e)}}}function oe(r){let e,n=r[11]+"",l,t,s=r[12],i=[];for(let a=0;a<s.length;a+=1)i[a]=ie(le(r,s,a));return{c(){e=m("dt"),l=L(n);for(let a=0;a<i.length;a+=1)i[a].c();t=_e()},m(a,c){b(a,e,c),$(e,l);for(let o=0;o<i.length;o+=1)i[o].m(a,c);b(a,t,c)},p(a,c){if(c&2&&n!==(n=a[11]+"")&&P(l,n),c&2){s=a[12];let o;for(o=0;o<s.length;o+=1){const u=le(a,s,o);i[o]?i[o].p(u,c):(i[o]=ie(u),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=s.length}},d(a){a&&y(e),T(i,a),a&&y(t)}}}function Ce(r){let e,n,l=r[8].items,t=[];for(let s=0;s<l.length;s+=1)t[s]=oe(se(r,l,s));return{c(){e=m("dl");for(let s=0;s<t.length;s+=1)t[s].c();n=I(),h(e,"class","svelte-1r0x46x")},m(s,i){b(s,e,i);for(let a=0;a<t.length;a+=1)t[a].m(e,null);b(s,n,i)},p(s,i){if(i&2){l=s[8].items;let a;for(a=0;a<l.length;a+=1){const c=se(s,l,a);t[a]?t[a].p(c,i):(t[a]=oe(c),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}},d(s){s&&y(e),T(t,s),s&&y(n)}}}function Me(r){let e,n=r[8].heading+"",l;return{c(){e=m("h1"),l=L(n),h(e,"slot","header"),h(e,"class","svelte-1r0x46x")},m(t,s){b(t,e,s),$(e,l)},p(t,s){s&2&&n!==(n=t[8].heading+"")&&P(l,n)},d(t){t&&y(e)}}}function ae(r){let e,n;return e=new ve({props:{$$slots:{header:[Me],default:[Ce]},$$scope:{ctx:r}}}),{c(){G(e.$$.fragment)},m(l,t){Q(e,l,t),n=!0},p(l,t){const s={};t&262146&&(s.$$scope={dirty:t,ctx:l}),e.$set(s)},i(l){n||(k(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){W(e,l)}}}function Ie(r){var z;let e,n,l,t,s,i,a,c,o,u,d,A,N,v=!!((z=r[0])==null?void 0:z.value)&&re(r);c=new ke({props:{text:"Decks",$$slots:{default:[Ae]},$$scope:{ctx:r}}});let M=r[1],p=[];for(let f=0;f<M.length;f+=1)p[f]=ae(ne(r,M,f));const ce=f=>C(p[f],1,1,()=>{p[f]=null});return{c(){e=m("header"),n=m("div"),l=m("label"),l.textContent="Cards JSON File",t=I(),v&&v.c(),s=I(),i=m("input"),a=I(),G(c.$$.fragment),o=I(),u=m("main");for(let f=0;f<p.length;f+=1)p[f].c();h(l,"for","cards"),h(i,"type","file"),h(i,"accept","application/json"),h(i,"id","cards"),h(e,"class","svelte-1r0x46x"),h(u,"class","svelte-1r0x46x")},m(f,_){b(f,e,_),$(e,n),$(n,l),$(n,t),v&&v.m(n,null),$(n,s),$(n,i),r[5](i),$(e,a),Q(c,e,null),b(f,o,_),b(f,u,_);for(let S=0;S<p.length;S+=1)p[S].m(u,null);d=!0,A||(N=O(i,"change",r[3]),A=!0)},p(f,[_]){var K;((K=f[0])==null?void 0:K.value)?v?v.p(f,_):(v=re(f),v.c(),v.m(n,s)):v&&(v.d(1),v=null);const S={};if(_&262144&&(S.$$scope={dirty:_,ctx:f}),c.$set(S),_&2){M=f[1];let g;for(g=0;g<M.length;g+=1){const U=ne(f,M,g);p[g]?(p[g].p(U,_),k(p[g],1)):(p[g]=ae(U),p[g].c(),k(p[g],1),p[g].m(u,null))}for(V(),g=M.length;g<p.length;g+=1)ce(g);D()}},i(f){if(!d){k(c.$$.fragment,f);for(let _=0;_<M.length;_+=1)k(p[_]);d=!0}},o(f){C(c.$$.fragment,f),p=p.filter(Boolean);for(let _=0;_<p.length;_+=1)C(p[_]);d=!1},d(f){f&&y(e),v&&v.d(),r[5](null),W(c),f&&y(o),f&&y(u),T(p,f),A=!1,N()}}}function Se(r,e,n){let l;const t=pe([]);de(r,t,d=>n(1,l=d));const s=new FileReader;s.addEventListener("load",a);let i=null;function a(d){const A=JSON.parse(d.target.result.toString());try{he(A)}catch(N){throw alert(N.message),N}X(t,l=A,l)}function c(d){const[A=null]=d.target.files;A?s.readAsBinaryString(A):o()}function o(){X(t,l=[],l),n(0,i.value=null,i)}function u(d){F[d?"unshift":"push"](()=>{i=d,n(0,i)})}return[i,l,t,c,o,u]}class Ne extends j{constructor(e){super();B(this,e,Se,Ie,H,{})}}new Ne({target:document.getElementById("app")});
